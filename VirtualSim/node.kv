#:kivy 1.10.0

<Node>:
  n_width:50
  angle: 0
  pos: (200,200)
  color: (1, 0, 0, 1)
  canvas.before:
    PushMatrix
    Rotate:
      axis: 0,0,1
      angle: -self.angle
      origin: (self.pos[0]+self.n_width/2, 800-self.pos[1]+self.n_width/2)
    Color:
      rgba: self.color
    Rectangle:
      size: (self.n_width,self.n_width)
      pos: (self.pos[0], 800-self.pos[1])
    Color:
      rgba: (0, 0, 0, 0.2)
    Rectangle:
      size: (self.n_width/2,self.n_width)
      pos: (self.pos[0], 800-self.pos[1])
    PopMatrix
  Label:
    text: str(root.node_id)
    pos: (root.pos[0]-root.n_width/2, 800-root.pos[1]-root.n_width/2)
